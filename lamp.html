<!DOCTYPE html>
<html>
<head>
<title>lamp</title>
<link rel="shortcut icon"type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC6ElEQVRIS5WVW0gUURjH/3NzZjQveMlKt9W8JClBBmE3UAghAykkwnqOMorqIYIybyU9RFE9pL0X4YMUSD0khNENExQqJUTLu6irkWK7s7M70znJkrM7Z3Q/2Jc935zf/7seDoBJfkxL5Hm4OQk74jhsUVdcp7wcBpZNjJg6Fg3D6XNwLIBIDoolFVWZOqozA3Ap1nvGfcDTMRHtUwL6dA1BBsYWIBDn8lgFDYUa9iSZmNaAzlkRE394HHf5kRf7/7bu3xwavsjo9PlsIbaAvUT5w10+7E400fpTgEcTcGiTjsJ4EwmUHmY9BHKhT0a3TsIKswhACifgRg6Hi9kB3BkSsT0hiMqNjmX6d+WDYRFNI8CCEbAgIgAloopXB734SlT1L/KoyWZl1yp1ntxb8U7F54DXGXA2RUZLsYbaARnXCjTE8o5NYjms6ZXROk8KtsosEYjgUesSUV/gx/VvMpqLrM5roW5+j0HjuN9SbAtAIl3b6JZwNd+PtkkB1RnrS08IfHswBvWjOvRVo2UB0GxcSpdxd2d0ykOAy6Rd7884pIg6lsoqOvZ5sYFOWhS2RIpc+UlBF5kHZg3oQSon4lauiTNZ0aWnhcxL3TDgMa3f2Q5auaKgrcSHJGl9Ifwi6k98VNGpWVuUfm0LSOaJmiwybDnWoWHh7pEha7YZMiaAHpTRWhzwIm6NOVgmy/TIexVvbdQ7AlyChNaiACrWWBMdMxzO9ZNFGNRtA2Sua4W8A01uHldyndNE91XdqAEf411gAmgE5RkSkuOdu2lhScDrSR3j0UZwdKuC5y8j169dHo4dVvBiwt6XGYGbl1CaIyJlswESjK1R0QvTPN4MBzFm+KOrAfU+lS/jSbvz2jhZpeLZYGT/h2jMCKjDNiJ9fy6PtHREREHVz80AH4YM/GDk37FNQwrSeBGN503UnLYWu+WxgIZHHGbDXrDwPDlGEHLO42NQVswhNW3lH88c0NVrYpCR99WQv1DbAxCfMOJhAAAAAElFTkSuQmCC" from="https://www.freepik.com/icon/light-bulb_11878944">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

body {
  padding: 0;
  margin: 0;
  overflow-x: hidden;
  scroll-behavior: smooth;
}

* {
  font-size: 36px;
}

label {
    user-select: none;
}

[for='toggling'], #momentary_switch {
  background-color: var(--colorup);
} 

#momentary_switch, #latch_switch {
  border: none;
  display: block;
  height: 100vh;
  width: 100vw;
}

#toggling, #momentary:not(:checked) ~ #momentary_switch, #momentary:checked ~ #latch_switch {
   display: none
}

#toggling:checked ~ [for='toggling'], #momentary_switch:active {
  background-color: var(--colordown);
}

colorup ~ #momentary_switch {
  background-color: gold;
}
</style>
</head>

<body id="body" oncontextmenu="return false;">
<select id="colorup" onchange="document.documentElement.style.setProperty('--colorup', this.value);">
<option>white
<option>black
<option selected>red
<option>green
<option>blue
</select>

<input id="flip" type="button" value="&rlarr;" onclick="if (colordown.selectedIndex) {[colorup.value, colordown.value] = [colordown.value, colorup.value]; colorup.onchange(); colordown.onchange()}" >

<select id="colordown" onchange="document.documentElement.style.setProperty('--colordown', this.value);">
<option value="var(--colorup)">ðŸ”’
<option>white
<option selected>black
<option>red
<option>green
<option>blue
</select>

<input type="checkbox" id="momentary" comment="momentary vs latching push button switches"><label for="momentary">&#129432;</label> 
<input type="checkbox" id="toggling"> 
<button id="share" title="create link" onclick="share()"><span style="color: black;">&#x1F517;&#xfe0e;</span></button>
<a href="https://github.com/mzechmeister/lamp" style="padding-right: 6px;"><svg width="12" height="12" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M16 0C7.16 0 0 7.16 0 16C0 23.08 4.58 29.06 10.94 31.18C11.74 31.32 12.04 30.84 12.04 30.42C12.04 30.04 12.02 28.78 12.02 27.44C8 28.18 6.96 26.46 6.64 25.56C6.46 25.1 5.68 23.68 5 23.3C4.44 23 3.64 22.26 4.98 22.24C6.24 22.22 7.14 23.4 7.44 23.88C8.88 26.3 11.18 25.62 12.1 25.2C12.24 24.16 12.66 23.46 13.12 23.06C9.56 22.66 5.84 21.28 5.84 15.16C5.84 13.42 6.46 11.98 7.48 10.86C7.32 10.46 6.76 8.82 7.64 6.62C7.64 6.62 8.98 6.2 12.04 8.26C13.32 7.9 14.68 7.72 16.04 7.72C17.4 7.72 18.76 7.9 20.04 8.26C23.1 6.18 24.44 6.62 24.44 6.62C25.32 8.82 24.76 10.46 24.6 10.86C25.62 11.98 26.24 13.4 26.24 15.16C26.24 21.3 22.5 22.66 18.94 23.06C19.52 23.56 20.02 24.52 20.02 26.02C20.02 28.16 20 29.88 20 30.42C20 30.84 20.3 31.34 21.1 31.18C27.42 29.06 32 23.06 32 16C32 7.16 24.84 0 16 0V0Z" fill="#24292E"/>
</svg></img></a>
<button id="fullscreen" onclick="toggle_fullscreen()">&#x26F6;</button>
<button id="momentary_switch" tabIndex=1></button>
<label id="latch_switch" for='toggling'></label>

<script>
// process url params
url_kwargs = Object.fromEntries(new URL(window.location).searchParams)
momentary.checked = "momentary" in url_kwargs
for (arg of ["colorup", "colordown"])
    if (arg in url_kwargs) window[arg].value = url_kwargs[arg]

function share() {
    url = new URL(window.location)
    url = (url.origin=="null" ? url.protocol : url.origin) + url.pathname + "?"
    args = []
    if (momentary.checked) args.push("momentary");
    if (colorup.value) args.push("colorup="+colorup.value);
    if (colordown.value) args.push("colordown="+colordown.value)
    window.location.href = url + args.join("&")
}

function toggle_fullscreen(next=!document.fullscreenElement) {
    if (!next == !document.fullscreenElement || !document.hasFocus()) return
    if (next) {
        var elem = document.documentElement;
        (elem.requestFullscreen || elem.webkitRequestFullscreen).call(elem)
    } else {
        (document.exitFullscreen || document.webkitExitFullscreen).call(document)
    }
    window.scrollTo(0, window.scrollMaxY)
}

colorup.onchange()
colordown.onchange()

</script>

</body>
</html>
